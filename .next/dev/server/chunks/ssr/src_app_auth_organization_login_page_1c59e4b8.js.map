{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Admin/Downloads/ace-nextjs-full-project/src/app/auth/organization/login/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport \"./organizer-login.css\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nimport { ViewIcon, HideIcon } from \"@/components/icons/Icons\";\r\nimport { loginApi } from \"@/lib/api\";\r\nimport { saveToken } from \"@/lib/auth\";\r\nimport { organizerLoginSchema } from \"@/components/validation\";\r\n\r\nimport {\r\n  ROLE_ORGANIZER,\r\n  INPUT_TEXT,\r\n  INPUT_PASSWORD,\r\n  TITLE_ORG_LOGIN_MAIN,\r\n  SUBTITLE_ORG_LOGIN,\r\n  LABEL_ORG_EMAIL,\r\n  LABEL_PASSWORD,\r\n  PH_ORG_EMAIL,\r\n  PH_PASSWORD,\r\n  TEXT_FORGOT_PASSWORD,\r\n  TEXT_SIGNIN,\r\n  TEXT_NO_ACCOUNT,\r\n  TEXT_SIGNUP,\r\n  MSG_INVALID_CREDENTIALS,\r\n  MSG_LOGIN_SUCCESS_ORGANIZER,\r\n  MSG_LOGIN_FAILED,\r\n} from \"@/const-value/config-message/page\";\r\n\r\nimport {\r\n  organizerSignupCategoryPage,\r\n  organizerDashboardPage,\r\n} from \"@/const-value/routes/page\";\r\n\r\nexport default function OrganizerLoginPage() {\r\n  const router = useRouter();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPass, setShowPass] = useState(false);\r\n\r\n  // -----------------------------\r\n  // SUBMIT\r\n  // -----------------------------\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    // validation\r\n    try {\r\n      await organizerLoginSchema.validate(\r\n        { email, password },\r\n        { abortEarly: false }\r\n      );\r\n    } catch (err) {\r\n      return toast.error(err.errors[0]);\r\n    }\r\n\r\n    try {\r\n      const res = await loginApi({\r\n        email,\r\n        password,\r\n        type: ROLE_ORGANIZER,\r\n      });\r\n\r\n      if (!res?.status || !res?.token) {\r\n        return toast.error(res?.message || MSG_INVALID_CREDENTIALS);\r\n      }\r\n\r\n      saveToken(res.token);\r\n\r\n      document.cookie = `token=${res.token}; path=/; max-age=${60 * 60 * 24 * 7}`;\r\n      document.cookie = `role=organizer; path=/;`;\r\n\r\n      toast.success(MSG_LOGIN_SUCCESS_ORGANIZER);\r\n      router.push(organizerDashboardPage);\r\n    } catch (err) {\r\n      toast.error(MSG_LOGIN_FAILED);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"org-login-shell\">\r\n      {/* LEFT IMAGE */}\r\n      <div className=\"org-login-left\">\r\n        <img src=\"/images/or_login.png\" alt=\"Organizer Login\" />\r\n      </div>\r\n\r\n      {/* RIGHT FORM */}\r\n      <div className=\"org-login-right\">\r\n        <div className=\"org-login-card\">\r\n          <h1 className=\"org-title\">{TITLE_ORG_LOGIN_MAIN}</h1>\r\n          <p className=\"org-sub\">{SUBTITLE_ORG_LOGIN}</p>\r\n\r\n          <form onSubmit={onSubmit}>\r\n            {/* EMAIL */}\r\n            <label>{LABEL_ORG_EMAIL}</label>\r\n            <input\r\n              type={INPUT_TEXT}\r\n              placeholder={PH_ORG_EMAIL}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n\r\n            {/* PASSWORD */}\r\n            <label>{LABEL_PASSWORD}</label>\r\n            <div className=\"pass-wrap\">\r\n              <input\r\n                type={showPass ? INPUT_TEXT : INPUT_PASSWORD}\r\n                placeholder={PH_PASSWORD}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              <span onClick={() => setShowPass(!showPass)}>\r\n                {showPass ? <ViewIcon /> : <HideIcon />}\r\n              </span>\r\n            </div>\r\n\r\n            {/* FORGOT */}\r\n            <div className=\"forgot\">\r\n              <a href=\"/auth/organization/forgot-password\">\r\n                {TEXT_FORGOT_PASSWORD}\r\n              </a>\r\n            </div>\r\n\r\n            <button type=\"submit\">{TEXT_SIGNIN}</button>\r\n\r\n            <p className=\"org-foot\">\r\n              {TEXT_NO_ACCOUNT}{\" \"}\r\n              <a href={organizerSignupCategoryPage}>{TEXT_SIGNUP}</a>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AALA;;;;;;;;;;;;AAoCe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IAEzC,gCAAgC;IAChC,SAAS;IACT,gCAAgC;IAChC,eAAe,SAAS,CAAC;QACvB,EAAE,cAAc;QAEhB,aAAa;QACb,IAAI;YACF,MAAM,qBAAqB,QAAQ,CACjC;gBAAE;gBAAO;YAAS,GAClB;gBAAE,YAAY;YAAM;QAExB,EAAE,OAAO,KAAK;YACZ,OAAO,gKAAK,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,EAAE;QAClC;QAEA,IAAI;YACF,MAAM,MAAM,MAAM,SAAS;gBACzB;gBACA;gBACA,MAAM;YACR;YAEA,IAAI,CAAC,KAAK,UAAU,CAAC,KAAK,OAAO;gBAC/B,OAAO,gKAAK,CAAC,KAAK,CAAC,KAAK,WAAW;YACrC;YAEA,UAAU,IAAI,KAAK;YAEnB,SAAS,MAAM,GAAG,CAAC,MAAM,EAAE,IAAI,KAAK,CAAC,kBAAkB,EAAE,KAAK,KAAK,KAAK,GAAG;YAC3E,SAAS,MAAM,GAAG,CAAC,uBAAuB,CAAC;YAE3C,gKAAK,CAAC,OAAO,CAAC;YACd,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,KAAK;YACZ,gKAAK,CAAC,KAAK,CAAC;QACd;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,KAAI;oBAAuB,KAAI;;;;;;;;;;;0BAItC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAG,WAAU;sCAAa;;;;;;sCAC3B,8OAAC;4BAAE,WAAU;sCAAW;;;;;;sCAExB,8OAAC;4BAAK,UAAU;;8CAEd,8OAAC;8CAAO;;;;;;8CACR,8OAAC;oCACC,MAAM;oCACN,aAAa;oCACb,OAAO;oCACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;;;;;;8CAI1C,8OAAC;8CAAO;;;;;;8CACR,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CACC,MAAM,WAAW,aAAa;4CAC9B,aAAa;4CACb,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;;;;;;sDAE7C,8OAAC;4CAAK,SAAS,IAAM,YAAY,CAAC;sDAC/B,yBAAW,8OAAC;;;;qEAAc,8OAAC;;;;;;;;;;;;;;;;8CAKhC,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC;wCAAE,MAAK;kDACL;;;;;;;;;;;8CAIL,8OAAC;oCAAO,MAAK;8CAAU;;;;;;8CAEvB,8OAAC;oCAAE,WAAU;;wCACV;wCAAiB;sDAClB,8OAAC;4CAAE,MAAM;sDAA8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOrD"}}]
}