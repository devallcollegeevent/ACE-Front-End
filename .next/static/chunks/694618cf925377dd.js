(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50233,e=>{"use strict";let t=e.i(81949).default.create({baseURL:"http://3.6.238.72:5000/api"});console.log("API BASE URL =>","http://3.6.238.72:5000/api"),e.s(["default",0,t])},48779,e=>{"use strict";e.i(53596);var t=e.i(50233),s=e.i(76004),a=e.i(8720);e.s(["forgotApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.FORGOT_PASSWORD,e)),"loginApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.LOGIN,e)),"resendOtpApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.RESEND_OTP,e)),"resetPasswordApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.RESET_PASSWORD,e)),"signupApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.SIGNUP,e)),"verifyEmailApi",0,e=>(0,a.handleApi)(t.default.get(`${s.API_ENDPOINTS.AUTH.ORG_VERIFY}?token=${encodeURIComponent(e)}`)),"verifyOtpApi",0,e=>(0,a.handleApi)(t.default.post(s.API_ENDPOINTS.AUTH.VERIFY_OTP,e))])},75848,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),r=e.i(5766),i=e.i(75426),o=e.i(48779),l=e.i(44127),n=e.i(85012);function c(){let e=(0,a.useRouter)(),c=(0,a.useSearchParams)().get("role")||n.ROLE_USER,[u,d]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=(0,l.getEmail)();e&&d(e)},[]);let[p,N]=(0,s.useState)(["","","",""]),[T,E]=(0,s.useState)(!1),[_,m]=(0,s.useState)(!1),O=[(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null)],g={user:{image:"/images/auth-forgot.png",redirect:"/auth/reset-password?role=user"},organizer:{image:"/images/or_forgotpassword.png",redirect:"/auth/reset-password?role=organizer"}}[c];async function h(t){t.preventDefault();let s=p.join("");try{await i.otpSchema.validate({otp:s},{abortEarly:!1})}catch(e){return r.toast.error(e.errors[0])}try{E(!0);let t=await (0,o.verifyOtpApi)({email:u,otp:s});E(!1),t?.status?(r.toast.success(n.MSG_OTP_VERIFIED),e.push(g.redirect)):r.toast.error(t?.message||n.MSG_OTP_INVALID)}catch{E(!1),r.toast.error(n.MSG_GENERIC_ERROR)}}async function A(){try{m(!0);let e=await (0,o.resendOtpApi)({email:u});m(!1),e?.status?r.toast.success(n.MSG_NEW_OTP_SEND):r.toast.error(e?.message||n.MSG_NEW_OTP_FAILED_TO_SEND)}catch{m(!1),r.toast.error(n.MSG_GENERIC_ERROR)}}return(0,t.jsxs)("div",{className:"org-shell",children:[(0,t.jsx)("aside",{className:"org-left",children:(0,t.jsx)("img",{className:"org-left-img",src:g.image,alt:"otp"})}),(0,t.jsx)("main",{className:"org-right",children:(0,t.jsxs)("div",{className:"org-card",children:[(0,t.jsx)("h2",{className:"org-title",children:n.TITLE_ENTER_OTP}),(0,t.jsxs)("div",{className:"org-sub",children:[n.SUB_TITLE_ENTER_OTP," ",u||"your email"]}),(0,t.jsxs)("form",{className:"org-form",onSubmit:h,children:[(0,t.jsx)("div",{className:"otp-row",children:p.map((e,s)=>(0,t.jsx)("input",{ref:O[s],className:"otp-input",maxLength:1,value:e,onChange:e=>(function(e,t){if(!/^\d*$/.test(t))return;let s=[...p];s[e]=t.slice(-1),N(s),t&&e<3&&O[e+1].current?.focus()})(s,e.target.value)},s))}),(0,t.jsx)("div",{className:"form-actions",children:(0,t.jsx)("button",{className:"btn-primary-ghost",type:"submit",disabled:T,children:T?n.CONDITION_OTP_VERIFY:n.BTN_CONTINUE})}),(0,t.jsxs)("div",{className:"org-foot",style:{marginTop:10},children:[n.SUB_TITLE_OTP_NOT_RECEIVE," ",(0,t.jsx)("button",{type:"button",className:"resendCondeText",onClick:A,disabled:_,children:_?n.CONDITION_OTP_SEND:n.BTN_OTP_RESEND})]})]})]})})]})}e.s(["default",()=>c])}]);