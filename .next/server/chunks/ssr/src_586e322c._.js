module.exports=[20052,a=>{"use strict";let b=a.i(83490).default.create({baseURL:"http://3.6.238.72:5000/api"});console.log("API BASE URL =>","http://3.6.238.72:5000/api"),a.s(["default",0,b])},65387,a=>{"use strict";a.i(58822);var b=a.i(20052),c=a.i(54345),d=a.i(22314);a.s(["forgotApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.FORGOT_PASSWORD,a)),"googleAuthLoginApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.GOOGLE_LOGIN,a)),"loginApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.LOGIN,a)),"resendOtpApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.RESEND_OTP,a)),"resetPasswordApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.RESET_PASSWORD,a)),"signupApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.SIGNUP,a)),"verifyEmailApi",0,a=>(0,d.handleApi)(b.default.get(`${c.API_ENDPOINTS.AUTH.ORG_VERIFY}?token=${encodeURIComponent(a)}`)),"verifyOtpApi",0,a=>(0,d.handleApi)(b.default.post(c.API_ENDPOINTS.AUTH.VERIFY_OTP,a))])},18009,a=>{a.v({btnRow:"Profile-module__rfW_xW__btnRow",cancelBtn:"Profile-module__rfW_xW__cancelBtn",changePassword:"Profile-module__rfW_xW__changePassword",editBox:"Profile-module__rfW_xW__editBox",editIcon:"Profile-module__rfW_xW__editIcon",eyeIcon:"Profile-module__rfW_xW__eyeIcon",inputWrapper:"Profile-module__rfW_xW__inputWrapper",left:"Profile-module__rfW_xW__left",otpBox:"Profile-module__rfW_xW__otpBox",otpInputs:"Profile-module__rfW_xW__otpInputs",passwordBox:"Profile-module__rfW_xW__passwordBox",profileWrapper:"Profile-module__rfW_xW__profileWrapper",resend:"Profile-module__rfW_xW__resend",saveBtn:"Profile-module__rfW_xW__saveBtn",successBox:"Profile-module__rfW_xW__successBox",uploadBox:"Profile-module__rfW_xW__uploadBox",viewBox:"Profile-module__rfW_xW__viewBox"})},28440,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(18009),e=a.i(6704),f=a.i(23094),g=a.i(49658),h=a.i(65387),i=a.i(14913),j=a.i(29811),k=a.i(34907);let l=a=>a?.type==="org"?{getProfile:f.getOrganizationProfileApi,updateProfile:f.updateOrganizationProfileApi,nameKey:"organizationName",emailKey:"domainEmail"}:{getProfile:g.getUserProfileApi,updateProfile:g.updateUserProfileApi,nameKey:"name",emailKey:"email"};function m(){let[a,f]=(0,c.useState)("view"),[g,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),{setLoading:p}=(0,k.useLoading)(),[q,r]=(0,c.useState)({name:"",email:"",image:null}),[s,t]=(0,c.useState)(""),[u,v]=(0,c.useState)(""),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(!1),[A,B]=(0,c.useState)(!1),C=(0,c.useRef)(null);(0,c.useEffect)(()=>{!async function(){p(!0);try{let a=(0,i.getUserData)();if(!a?.identity)return;let b=l(a),c=await b.getProfile(a.identity);c?.status&&(m(c.data),r({name:c.data[b.nameKey]||"",email:c.data[b.emailKey]||"",image:null}))}catch(a){e.default.error("Failed to load profile")}finally{o(!1),p(!1)}}()},[p]);let D=async()=>{p(!0);try{let a=(0,i.getUserData)(),b=l(a),c=new FormData;c.append(b.nameKey,q.name),c.append(b.emailKey,q.email),q.image&&c.append("image",q.image);let d=await b.updateProfile(a.identity,c);d?.status?(m(d.data),e.default.success("Profile updated"),f("view")):e.default.error("Update failed")}catch{e.default.error("Update failed")}finally{p(!1)}},E=async()=>{p(!0),await (0,h.forgotApi)({email:q.email}),e.default.success("OTP sent"),f("otp"),p(!1)},F=async()=>{p(!0),await (0,h.verifyOtpApi)({email:q.email,otp:s}),e.default.success("OTP verified"),f("password"),p(!1)},G=async()=>{if(u!==w)return e.default.error("Passwords not matching");await (0,h.resetPasswordApi)({email:q.email,password:u}),e.default.success("Password updated"),f("success"),p(!1)};return n?(0,b.jsx)("p",{style:{padding:20},children:"Loading..."}):g?(0,b.jsxs)("div",{className:d.default.wrapper,children:["view"===a&&(0,b.jsxs)("div",{className:d.default.viewBox,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{children:"Full Name"}),(0,b.jsx)("p",{children:q.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{children:"Email"}),(0,b.jsx)("p",{children:q.email})]}),(0,b.jsx)("img",{src:"/images/Pen.png",className:d.default.editIcon,onClick:()=>f("edit")})]}),"edit"===a&&(0,b.jsxs)("div",{className:d.default.editBox,children:[(0,b.jsxs)("div",{className:d.default.left,children:[(0,b.jsx)("label",{children:"Full Name"}),(0,b.jsx)("input",{value:q.name,onChange:a=>r({...q,name:a.target.value})}),(0,b.jsx)("label",{children:"Email"}),(0,b.jsx)("input",{value:q.email,onChange:a=>r({...q,email:a.target.value})}),(0,b.jsx)("span",{className:d.default.changePass,onClick:E,children:"Change Password"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:d.default.uploadBox,onClick:()=>C.current.click(),children:(0,b.jsx)("p",{children:q.image?q.image.name:"Upload profile picture"})}),(0,b.jsx)("input",{ref:C,type:"file",hidden:!0,accept:"image/*",onChange:a=>r({...q,image:a.target.files[0]})}),(0,b.jsxs)("div",{className:d.default.btnRow,children:[(0,b.jsx)("button",{onClick:()=>f("view"),children:"Cancel"}),(0,b.jsx)("button",{onClick:D,children:"Save"})]})]})]}),"otp"===a&&(0,b.jsxs)("div",{className:d.default.centerBox,children:[(0,b.jsx)("h3",{children:"Enter OTP"}),(0,b.jsx)("input",{maxLength:4,value:s,onChange:a=>t(a.target.value)}),(0,b.jsxs)("div",{className:d.default.btnRow,children:[(0,b.jsx)("button",{onClick:()=>f("edit"),children:"Cancel"}),(0,b.jsx)("button",{onClick:F,children:"Continue"})]})]}),"password"===a&&(0,b.jsxs)("div",{className:d.default.centerBox,children:[(0,b.jsxs)("div",{className:d.default.passWrap,children:[(0,b.jsx)("input",{type:y?"text":"password",placeholder:"New password",onChange:a=>v(a.target.value)}),(0,b.jsx)("span",{onClick:()=>z(!y),children:y?j.PASSWORDVIEWICON:j.PASSWORDHIDEICON})]}),(0,b.jsxs)("div",{className:d.default.passWrap,children:[(0,b.jsx)("input",{type:A?"text":"password",placeholder:"Confirm password",onChange:a=>x(a.target.value)}),(0,b.jsx)("span",{onClick:()=>B(!A),children:A?j.PASSWORDVIEWICON:j.PASSWORDHIDEICON})]}),(0,b.jsxs)("div",{className:d.default.btnRow,children:[(0,b.jsx)("button",{onClick:()=>f("edit"),children:"Cancel"}),(0,b.jsx)("button",{onClick:G,children:"Save"})]})]}),"success"===a&&(0,b.jsx)("div",{className:d.default.success,children:"Password Successfully Changed!!"})]}):(0,b.jsx)("p",{style:{padding:20},children:"No profile found"})}a.s(["default",()=>m])}];

//# sourceMappingURL=src_586e322c._.js.map