{"version":3,"sources":["../../../../src/lib/axiosPublic.js","../../../../src/lib/api/auth.api.js","../../../../src/app/auth/user/signup/page.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiPublic = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n});\r\n\r\nconsole.log(\"API BASE URL =>\", process.env.NEXT_PUBLIC_API_URL);\r\n\r\n\r\nexport default apiPublic;   \r\n","import apiPrivate from \"../axiosPrivate\";\r\nimport apiPublic from \"../axiosPublic\";\r\nimport { API_ENDPOINTS } from \"./endpoints\";\r\nimport { handleApi } from \"./apiHelper\";\r\n\r\n/* ================= AUTH ================= */\r\n\r\nexport const signupApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.SIGNUP, data));\r\n\r\nexport const organizerSignupApi = signupApi;\r\n\r\nexport const loginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.LOGIN, data));\r\n\r\nexport const googleAuthLoginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.GOOGLE_LOGIN, data));\r\n\r\nexport const forgotApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.FORGOT_PASSWORD, data));\r\n\r\nexport const verifyOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.VERIFY_OTP, data));\r\n\r\nexport const resendOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESEND_OTP, data));\r\n\r\nexport const resetPasswordApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESET_PASSWORD, data));\r\n\r\nexport const verifyEmailApi = (token) =>\r\n  handleApi(\r\n    apiPublic.get(\r\n      `${API_ENDPOINTS.AUTH.ORG_VERIFY}?token=${encodeURIComponent(token)}`\r\n    )\r\n  );\r\n","\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-hot-toast\";\r\nimport \"../auth-common.css\";\r\nimport \"./signup.css\";\r\n\r\nimport {\r\n  PAGEMOVEICON,\r\n  PASSWORDHIDEICON,\r\n  PASSWORDVIEWICON,\r\n} from \"../../../../const-value/config-icons/page\";\r\n\r\nimport { userSignupSchema } from \"../../../../components/validation\";\r\nimport { signupApi } from \"../../../../lib/api/auth.api\";\r\nimport {\r\n  TITLE_USER_SIGNUP,\r\n  SUBTITLE_USER_SIGNUP,\r\n  LABEL_NAME,\r\n  LABEL_EMAIL,\r\n  LABEL_PASSWORD,\r\n  LABEL_CONFIRM_PASSWORD,\r\n  PH_NAME,\r\n  PH_PASSWORD,\r\n  PH_CONFIRM_PASSWORD,\r\n  TEXT_SIGNUP,\r\n  TEXT_SIGNIN,\r\n  TEXT_NO_ACCOUNT,\r\n  ROLE_USER,\r\n  MSG_SIGNUP_SUCCESS,\r\n  MSG_LOGIN_FAILED,\r\n  PH_USER_EMAIL,\r\n  MSG_ERR_SIGNUP_FAILED,\r\n} from \"../../../../const-value/config-message/page\";\r\nimport { useLoading } from \"../../../../context/LoadingContext\";\r\n\r\nexport default function UserSignupPage() {\r\n  const router = useRouter();\r\n\r\n  const { setLoading } = useLoading(); //ONLY ADD\r\n\r\n  const [showPass, setShowPass] = useState(false);\r\n  const [showConfirm, setShowConfirm] = useState(false);\r\n\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    confirmPassword: \"\",\r\n    type: ROLE_USER,\r\n  });\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    //YUP validation\r\n    try {\r\n      await userSignupSchema.validate(\r\n        {\r\n          name: form.name,\r\n          email: form.email,\r\n          password: form.password,\r\n          confirmPassword: form.confirmPassword,\r\n        },\r\n        { abortEarly: false }\r\n      );\r\n    } catch (err) {\r\n      return toast.error(err.errors[0]);\r\n    }\r\n\r\n    //API call\r\n    const payload = {\r\n      name: form.name,\r\n      email: form.email,\r\n      password: form.password,\r\n      type: form.type,\r\n      platform: \"web\",\r\n    };\r\n\r\n    setLoading(true); // START LOADING\r\n\r\n    const res = await signupApi(payload);\r\n\r\n    console.log(\"SIGNUP RESPONSE:\", res);\r\n\r\n    //DO NOT THROW\r\n    if (!res?.status) {\r\n      setLoading(false); //STOP LOADING\r\n      return toast.error(res?.message || MSG_ERR_SIGNUP_FAILED);\r\n    }\r\n\r\n    //SUCCESS ONLY ONCE\r\n    toast.success(res.message || MSG_SIGNUP_SUCCESS);\r\n    setLoading(false); //STOP LOADING\r\n    router.push(\"/auth/user/login\");\r\n  };\r\n\r\n  const handleCreateEvent = () => {\r\n    router.push(\"/auth/organization/signup/category\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth-shell\">\r\n      {/* LEFT IMAGE */}\r\n      <div className=\"auth-left d-none d-lg-flex\">\r\n        <img src=\"/images/auth-signup.png\" alt=\"signup\" />\r\n      </div>\r\n\r\n      {/* FORM */}\r\n      <div className=\"auth-right\">\r\n        <div className=\"auth-card signup-card\">\r\n          <div className=\"organization-sections mt-4\">  \r\n            <div className=\"Switch-to-Organizer\" onClick={handleCreateEvent}>\r\n              Switch to Organizer Sign Up\r\n            </div>\r\n            <div>{PAGEMOVEICON}</div>\r\n          </div>\r\n          <h1 className=\"auth-title mt-5\">{TITLE_USER_SIGNUP}</h1>\r\n          <p className=\"auth-sub\">{SUBTITLE_USER_SIGNUP}</p>\r\n\r\n          <form onSubmit={onSubmit}>\r\n            {/* NAME */}\r\n            <label className=\"auth-label\">{LABEL_NAME}</label>\r\n            <input\r\n              className=\"auth-input\"\r\n              placeholder={PH_NAME}\r\n              value={form.name}\r\n              onChange={(e) => setForm({ ...form, name: e.target.value })}\r\n            />\r\n\r\n            {/* EMAIL */}\r\n            <label className=\"auth-label\">{LABEL_EMAIL}</label>\r\n            <input\r\n              className=\"auth-input\"\r\n              placeholder={PH_USER_EMAIL}\r\n              value={form.email}\r\n              onChange={(e) => setForm({ ...form, email: e.target.value })}\r\n            />\r\n\r\n            {/* PASSWORD */}\r\n            <label className=\"auth-label\">{LABEL_PASSWORD}</label>\r\n            <div className=\"auth-pass-wrap\">\r\n              <input\r\n                className=\"auth-input\"\r\n                type={showPass ? \"text\" : \"password\"}\r\n                placeholder={PH_PASSWORD}\r\n                value={form.password}\r\n                onChange={(e) => setForm({ ...form, password: e.target.value })}\r\n              />\r\n              <span\r\n                className=\"auth-pass-toggle\"\r\n                onClick={() => setShowPass(!showPass)}\r\n              >\r\n                {showPass ? PASSWORDVIEWICON : PASSWORDHIDEICON}\r\n              </span>\r\n            </div>\r\n\r\n            {/* CONFIRM PASSWORD */}\r\n            <label className=\"auth-label\">{LABEL_CONFIRM_PASSWORD}</label>\r\n            <div className=\"auth-pass-wrap signup-confirm\">\r\n              <input\r\n                className=\"auth-input\"\r\n                type={showConfirm ? \"text\" : \"password\"}\r\n                placeholder={PH_CONFIRM_PASSWORD}\r\n                value={form.confirmPassword}\r\n                onPaste={(e) => e.preventDefault()}\r\n                onDrop={(e) => e.preventDefault()}\r\n                autoComplete=\"off\"\r\n                onChange={(e) =>\r\n                  setForm({\r\n                    ...form,\r\n                    confirmPassword: e.target.value,\r\n                  })\r\n                }\r\n              />\r\n              <span\r\n                className=\"auth-pass-toggle\"\r\n                onClick={() => setShowConfirm(!showConfirm)}\r\n              >\r\n                {showConfirm ? PASSWORDVIEWICON : PASSWORDHIDEICON}\r\n              </span>\r\n            </div>\r\n\r\n            {/* SUBMIT */}\r\n            <button className=\"auth-btn\">{TEXT_SIGNUP}</button>\r\n\r\n            {/* FOOTER */}\r\n            <div className=\"auth-footer\">\r\n              {TEXT_NO_ACCOUNT} <a href=\"/auth/user/login\">{TEXT_SIGNIN}</a>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}