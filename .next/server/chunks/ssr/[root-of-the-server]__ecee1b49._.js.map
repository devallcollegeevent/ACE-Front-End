{"version":3,"sources":["../../../../src/lib/axiosPublic.js","../../../../src/lib/api/auth.api.js","../../../../src/app/auth/email-verify/page.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiPublic = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n});\r\n\r\nconsole.log(\"API BASE URL =>\", process.env.NEXT_PUBLIC_API_URL);\r\n\r\n\r\nexport default apiPublic;   \r\n","import apiPrivate from \"../axiosPrivate\";\r\nimport apiPublic from \"../axiosPublic\";\r\nimport { API_ENDPOINTS } from \"./endpoints\";\r\nimport { handleApi } from \"./apiHelper\";\r\n\r\n/* ================= AUTH ================= */\r\n\r\nexport const signupApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.SIGNUP, data));\r\n\r\nexport const organizerSignupApi = signupApi;\r\n\r\nexport const loginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.LOGIN, data));\r\n\r\nexport const googleAuthLoginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.GOOGLE_LOGIN, data));\r\n\r\nexport const forgotApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.FORGOT_PASSWORD, data));\r\n\r\nexport const verifyOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.VERIFY_OTP, data));\r\n\r\nexport const resendOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESEND_OTP, data));\r\n\r\nexport const resetPasswordApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESET_PASSWORD, data));\r\n\r\nexport const verifyEmailApi = (token) =>\r\n  handleApi(\r\n    apiPublic.get(\r\n      `${API_ENDPOINTS.AUTH.ORG_VERIFY}?token=${encodeURIComponent(token)}`\r\n    )\r\n  );\r\n","\"use client\";\r\n\r\nimport { useSearchParams } from \"next/navigation\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { BTN_EMAIL_VERIFY_FAILED,\r\n  BTN_EMAIL_VERIFY_SUCCESS,\r\n  MSG_EMAIL_VERIFY_FAILED,\r\n  MSG_EMAIL_VERIFY_LOADING,\r\n  MSG_EMAIL_VERIFY_SUCCESS,\r\n  STORAGE_TOKEN,\r\n  SUB_TITLE_EMAIL_VERIFY,\r\n  SUB_TITLE_EMAIL_VERIFY_FAILED,\r\n  SUB_TITLE_EMAIL_VERIFY_SUCCESS,\r\n  TITLE_EMAIL_VERIFY,\r\n  TITLE_EMAIL_VERIFY_FAILED,\r\n  TITLE_EMAIL_VERIFY_SUCCESS, } from \"../../../const-value/config-message/page\";\r\nimport { verifyEmailApi } from \"../../../lib/api/auth.api\";\r\n\r\nexport default function EmailVerifyPage() {\r\n  const searchParams = useSearchParams();\r\n  const token = searchParams.get(STORAGE_TOKEN);\r\n\r\n  const [status, setStatus] = useState(MSG_EMAIL_VERIFY_LOADING);\r\n  // loading | success | failed\r\n\r\n  useEffect(() => {\r\n    if (!token) {\r\n      setStatus(MSG_EMAIL_VERIFY_FAILED);\r\n      return;\r\n    }\r\n\r\n    async function verify() {\r\n      try {\r\n        const res = await verifyEmailApi(token);\r\n        if (res?.status) {\r\n          setStatus(MSG_EMAIL_VERIFY_SUCCESS);\r\n        } else {\r\n          setStatus(MSG_EMAIL_VERIFY_FAILED);\r\n        }\r\n      } catch {\r\n        setStatus(MSG_EMAIL_VERIFY_FAILED);\r\n      }\r\n    }\r\n\r\n    verify();\r\n  }, [token]);\r\n\r\n  return (\r\n    <div className=\"container min-vh-100 d-flex justify-content-center align-items-center\">\r\n      <div\r\n        className=\"card shadow-lg p-4 text-center\"\r\n        style={{ maxWidth: \"420px\", width: \"100%\" }}\r\n      >\r\n        {/* LOGO */}\r\n        <div className=\"mb-3\">\r\n          <img src=\"/images/logo.png\" alt=\"logo\" style={{ height: 60 }} />\r\n        </div>\r\n\r\n        {/* LOADING */}\r\n        {status === MSG_EMAIL_VERIFY_LOADING && (\r\n          <>\r\n            <div className=\"spinner-border text-primary mb-3\" />\r\n            <h5 className=\"fw-bold\">{TITLE_EMAIL_VERIFY}</h5>\r\n            <p className=\"text-muted\">{SUB_TITLE_EMAIL_VERIFY}</p>\r\n          </>\r\n        )}\r\n\r\n        {/* SUCCESS */}\r\n        {status === MSG_EMAIL_VERIFY_SUCCESS && (\r\n          <>\r\n            <h4 className=\"fw-bold text-success\">\r\n              {TITLE_EMAIL_VERIFY_SUCCESS}\r\n            </h4>\r\n            <p className=\"text-muted\">\r\n              {SUB_TITLE_EMAIL_VERIFY_SUCCESS}\r\n            </p>\r\n\r\n            <a\r\n              href=\"/auth/organization/login\"\r\n              className=\"btn btn-success w-100 mt-3\"\r\n            >\r\n              {BTN_EMAIL_VERIFY_SUCCESS}\r\n            </a>\r\n          </>\r\n        )}\r\n\r\n        {/* FAILED */}\r\n        {status === MSG_EMAIL_VERIFY_FAILED && (\r\n          <>\r\n            <h4 className=\"fw-bold text-danger\">\r\n              {TITLE_EMAIL_VERIFY_FAILED}\r\n            </h4>\r\n            <p className=\"text-muted\">\r\n              {SUB_TITLE_EMAIL_VERIFY_FAILED}\r\n            </p>\r\n\r\n            <button\r\n              className=\"btn btn-outline-secondary w-100 mt-3\"\r\n              onClick={() => window.location.reload()}\r\n            >\r\n              {BTN_EMAIL_VERIFY_FAILED}\r\n            </button>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}