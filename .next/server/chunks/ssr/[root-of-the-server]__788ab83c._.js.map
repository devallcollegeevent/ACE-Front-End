{"version":3,"sources":["../../../../src/lib/axiosPublic.js","../../../../src/lib/api/auth.api.js","../../../../src/app/auth/organization/login/page.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst apiPublic = axios.create({\r\n  baseURL: process.env.NEXT_PUBLIC_API_URL,\r\n});\r\n\r\nconsole.log(\"API BASE URL =>\", process.env.NEXT_PUBLIC_API_URL);\r\n\r\n\r\nexport default apiPublic;   \r\n","import apiPrivate from \"../axiosPrivate\";\r\nimport apiPublic from \"../axiosPublic\";\r\nimport { API_ENDPOINTS } from \"./endpoints\";\r\nimport { handleApi } from \"./apiHelper\";\r\n\r\n/* ================= AUTH ================= */\r\n\r\nexport const signupApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.SIGNUP, data));\r\n\r\nexport const organizerSignupApi = signupApi;\r\n\r\nexport const loginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.LOGIN, data));\r\n\r\nexport const googleAuthLoginApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.GOOGLE_LOGIN, data));\r\n\r\nexport const forgotApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.FORGOT_PASSWORD, data));\r\n\r\nexport const verifyOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.VERIFY_OTP, data));\r\n\r\nexport const resendOtpApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESEND_OTP, data));\r\n\r\nexport const resetPasswordApi = (data) =>\r\n  handleApi(apiPublic.post(API_ENDPOINTS.AUTH.RESET_PASSWORD, data));\r\n\r\nexport const verifyEmailApi = (token) =>\r\n  handleApi(\r\n    apiPublic.get(\r\n      `${API_ENDPOINTS.AUTH.ORG_VERIFY}?token=${encodeURIComponent(token)}`\r\n    )\r\n  );\r\n","\"use client\";\r\n\r\nimport \"./organizer-login.css\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\n/* ICONS */\r\nimport {\r\n  PAGEMOVEICON,\r\n  PASSWORDHIDEICON,\r\n  PASSWORDVIEWICON,\r\n} from \"../../../../const-value/config-icons/page\";\r\n\r\n/* API */\r\nimport { loginApi } from \"../../../../lib/api/auth.api\";\r\n\r\n/* AUTH */\r\nimport { saveToken } from \"../../../../lib/auth\";\r\n\r\n/* VALIDATION */\r\nimport { organizerLoginSchema } from \"../../../../components/validation\";\r\n\r\n/* CONSTANTS */\r\nimport {\r\n  ROLE_ORGANIZER,\r\n  INPUT_TEXT,\r\n  INPUT_PASSWORD,\r\n  TITLE_ORG_LOGIN_MAIN,\r\n  SUBTITLE_ORG_LOGIN,\r\n  LABEL_ORG_EMAIL,\r\n  LABEL_PASSWORD,\r\n  PH_ORG_EMAIL,\r\n  PH_PASSWORD,\r\n  TEXT_FORGOT_PASSWORD,\r\n  TEXT_SIGNIN,\r\n  TEXT_NO_ACCOUNT,\r\n  TEXT_SIGNUP,\r\n  MSG_INVALID_CREDENTIALS,\r\n  MSG_LOGIN_SUCCESS_ORGANIZER,\r\n  MSG_LOGIN_FAILED,\r\n} from \"../../../../const-value/config-message/page\";\r\nimport { useLoading } from \"../../../../context/LoadingContext\";\r\n\r\nexport default function OrganizerLoginPage() {\r\n  const router = useRouter();\r\n\r\n  // GLOBAL LOADING\r\n  const { loading, setLoading } = useLoading();\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPass, setShowPass] = useState(false);\r\n\r\n  // -----------------------------\r\n  // SUBMIT\r\n  // -----------------------------\r\n  async function onSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n\r\n    // validation\r\n    try {\r\n      await organizerLoginSchema.validate(\r\n        { email, password },\r\n        { abortEarly: false }\r\n      );\r\n    } catch (err) {\r\n      setLoading(false);\r\n      return toast.error(err.errors[0]);\r\n    }\r\n\r\n    try {\r\n      const res = await loginApi({\r\n        email,\r\n        password,\r\n        type: ROLE_ORGANIZER,\r\n      });\r\n\r\n      if (!res?.status || !res?.token) {\r\n        setLoading(false);\r\n        return toast.error(res?.message || MSG_INVALID_CREDENTIALS);\r\n      }\r\n\r\n      saveToken(res.token);\r\n\r\n      document.cookie = `token=${res.token}; path=/; max-age=${\r\n        60 * 60 * 24 * 7\r\n      }`;\r\n      document.cookie = `role=organizer; path=/;`;\r\n\r\n      toast.success(MSG_LOGIN_SUCCESS_ORGANIZER);\r\n      router.push(\"/dashboard\");\r\n    } catch (err) {\r\n      toast.error(MSG_LOGIN_FAILED);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n  const handleUserLogin = () => {\r\n    router.push(\"/auth/user/login\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"org-login-shell\">\r\n      {/* LEFT IMAGE */}\r\n      <div className=\"org-login-left\">\r\n        <img src=\"/images/or_login.png\" alt=\"Organizer Login\" />\r\n      </div>\r\n\r\n      {/* RIGHT FORM */}\r\n      <div className=\"org-login-right\">\r\n       \r\n        <div className=\"org-login-card\">\r\n           <div className=\"organization-sections mt-5\">\r\n          <div className=\"Switch-to-Organizer\" onClick={handleUserLogin}>\r\n            Switch to User Sign In\r\n          </div>\r\n          <div>{PAGEMOVEICON}</div>\r\n        </div>\r\n          <h1 className=\"org-title mt-5\">{TITLE_ORG_LOGIN_MAIN}</h1>\r\n          <p className=\"org-sub\">{SUBTITLE_ORG_LOGIN}</p>\r\n\r\n          <form onSubmit={onSubmit}>\r\n            {/* EMAIL */}\r\n            <label>{LABEL_ORG_EMAIL}</label>\r\n            <input\r\n              type={INPUT_TEXT}\r\n              placeholder={PH_ORG_EMAIL}\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n\r\n            {/* PASSWORD */}\r\n            <label>{LABEL_PASSWORD}</label>\r\n            <div className=\"pass-wrap\">\r\n              <input\r\n                type={showPass ? INPUT_TEXT : INPUT_PASSWORD}\r\n                placeholder={PH_PASSWORD}\r\n                value={password}\r\n                onChange={(e) => setPassword(e.target.value)}\r\n              />\r\n              <span onClick={() => setShowPass(!showPass)}>\r\n                {showPass ? PASSWORDVIEWICON : PASSWORDHIDEICON}\r\n              </span>\r\n            </div>\r\n\r\n            {/* FORGOT */}\r\n            <div className=\"forgot\">\r\n              <a href=\"/auth/forgot-password\">{TEXT_FORGOT_PASSWORD}</a>\r\n            </div>\r\n\r\n            {/* SUBMIT */}\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-primary w-100\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? \"Signing in...\" : TEXT_SIGNIN}\r\n            </button>\r\n\r\n            <p className=\"org-foot\">\r\n              {TEXT_NO_ACCOUNT}{\" \"}\r\n              <a href=\"/auth/organization/signup/category\">{TEXT_SIGNUP}</a>\r\n            </p>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"6JAEA,IAAM,EAAY,AAFlB,EAAA,CAAA,CAAA,OAEkB,OAAK,CAAC,MAAM,CAAC,CAC7B,OAAO,CAAA,4BACT,GAEA,QAAQ,GAAG,CAAC,kBAAA,+CAGG,4BCTf,EAAA,CAAA,CAAA,OACA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,0BAeyB,AAAC,GACxB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,eAAe,CAAE,2BAJ7B,AAAC,GACjC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAE,iBAJpC,AAAC,GACvB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,KAAK,CAAE,qBAWzB,AAAC,GAC3B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,UAAU,CAAE,yBAE1B,AAAC,GAC/B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,cAAc,CAAE,kBArBrC,AAAC,GACxB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,MAAM,CAAE,uBAsBxB,AAAC,GAC7B,CAAA,EAAA,EAAA,SAAA,AAAS,EACP,EAAA,OAAS,CAAC,GAAG,CACX,CAAA,EAAG,EAAA,aAAa,CAAC,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE,mBAAmB,GAAA,CAAQ,oBAZ/C,AAAC,GAC3B,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,EAAA,OAAS,CAAC,IAAI,CAAC,EAAA,aAAa,CAAC,IAAI,CAAC,UAAU,CAAE,+CCnB1D,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MAGA,EAAA,EAAA,CAAA,CAAA,OAOA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OAGA,EAAA,EAAA,CAAA,CAAA,OAkBA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAGlB,SAAE,CAAO,YAAE,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,UAAU,AAAV,IAE1B,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7B,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAS,IACnC,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAKzC,eAAe,EAAS,CAAC,EACvB,EAAE,cAAc,GAChB,GAAW,GAGX,GAAI,CACF,MAAM,EAAA,oBAAoB,CAAC,QAAQ,CACjC,OAAE,WAAO,CAAS,EAClB,CAAE,YAAY,CAAM,EAExB,CAAE,MAAO,EAAK,CAEZ,OADA,GAAW,GACJ,EAAA,KAAK,CAAC,KAAK,CAAC,EAAI,MAAM,CAAC,EAAE,CAClC,CAEA,GAAI,CACF,IAAM,EAAM,MAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,OACzB,WACA,EACA,KAAM,EAAA,cAAc,AACtB,GAEA,GAAI,CAAC,GAAK,QAAU,CAAC,GAAK,MAExB,CAF+B,MAC/B,GAAW,GACJ,EAAA,KAAK,CAAC,KAAK,CAAC,GAAK,SAAW,EAAA,uBAAuB,EAG5D,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,EAAI,KAAK,EAEnB,SAAS,MAAM,CAAG,CAAC,MAAM,EAAE,EAAI,KAAK,CAAC,kBAAkB,EACrD,KACA,AADK,CAEP,IAFY,KAAK,AAER,MAAM,CAAG,CAAC,uBAAuB,CAAC,CAE3C,EAAA,KAAK,CAAC,OAAO,CAAC,EAAA,2BAA2B,EACzC,EAAO,IAAI,CAAC,aACd,CAAE,MAAO,EAAK,CACZ,EAAA,KAAK,CAAC,KAAK,CAAC,EAAA,gBAAgB,CAC9B,QAAU,CACR,GAAW,EACb,CACF,CAKA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BAEb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,IAAI,uBAAuB,IAAI,sBAItC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2BAEb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uCAChB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBAAsB,QAhBrB,CAgB8B,IAfpD,EAAO,IAAI,CAAC,mBACd,WAcuE,2BAG/D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,UAAK,EAAA,YAAY,MAElB,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,0BAAkB,EAAA,oBAAoB,GACpD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,mBAAW,EAAA,kBAAkB,GAE1C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,SAAU,YAEd,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAO,EAAA,eAAe,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAM,EAAA,UAAU,CAChB,YAAa,EAAA,YAAY,CACzB,MAAO,EACP,SAAU,AAAC,GAAM,EAAS,EAAE,MAAM,CAAC,KAAK,IAI1C,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,UAAO,EAAA,cAAc,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,KAAM,EAAW,EAAA,UAAU,CAAG,EAAA,cAAc,CAC5C,YAAa,EAAA,WAAW,CACxB,MAAO,EACP,SAAU,AAAC,GAAM,EAAY,EAAE,MAAM,CAAC,KAAK,IAE7C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,QAAS,IAAM,EAAY,CAAC,YAC/B,EAAW,EAAA,gBAAgB,CAAG,EAAA,gBAAgB,MAKnD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,iCAAyB,EAAA,oBAAoB,KAIvD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,KAAK,SACL,UAAU,wBACV,SAAU,WAET,EAAU,gBAAkB,EAAA,WAAW,GAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,qBACV,EAAA,eAAe,CAAE,IAClB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,KAAK,8CAAsC,EAAA,WAAW,gBAOvE"}